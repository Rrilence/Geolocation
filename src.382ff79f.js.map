{"version":3,"sources":["src/helpers/validate.ip.js","src/helpers/index.js","src/index.js"],"names":["validatIp","ip","test","alert","_validate","require","yandexMap","_helpers","ipInput","document","querySelector","btn","ipInfo","locationInfo","timezoneInfo","ispInfo","getData","value","fetch","concat","then","response","json","setInfo","handleKey","event","key","mapData","latitude","longitude","innerText","ip_address","console","log","region","country","timezone","current_time","connection","autonomous_system_organization","setCenter","myPlacemark","ymaps","Placemark","preset","geoObjects","add","createMap","Map","center","zoom","addEventListener","ready"],"mappings":";AAMA,aANO,SAASA,EAAUC,GACvB,QAAI,2KAA2KC,KAAKD,KAGpLE,MAAM,0CACC,GACV,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA;;ACNA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,IAAAC,EAAAC,QAAA;;ACyDA,aAzDA,IAgDIC,EAhDJC,EAAAF,QAAA,aAEMG,EAAUC,SAASC,cAAc,sBACjCC,EAAMF,SAASC,cAAc,oBAC7BE,EAASH,SAASC,cAAc,OAChCG,EAAeJ,SAASC,cAAc,aACtCI,EAAeL,SAASC,cAAc,aACtCK,EAAUN,SAASC,cAAc,QAKvC,SAASM,KAED,EAAAhB,EAAS,WAACQ,EAAQS,QAClBC,MAAKC,iGAAAA,OAAmGX,EAAQS,QAC/GG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAKG,GAId,SAASC,EAAUC,GACE,UAAdA,EAAMC,KACLV,IAKR,SAASO,EAAQI,GACb,IAAOC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,UAEjBjB,EAAOkB,UAAYH,EAAQI,WAC3BC,QAAQC,IAAIN,GACS,MAAlBA,EAAQO,OAAiBrB,EAAaiB,UAAYH,EAAQQ,QACzDtB,EAAaiB,UAAYH,EAAQO,OAAS,IAAOP,EAAQQ,QAE7DrB,EAAagB,UAAYH,EAAQS,SAASC,aAC1CtB,EAAQe,UAAYH,EAAQW,WAAWC,+BAEvCjC,EAAUkC,UAAU,CAACZ,EAAUC,IAC/B,IAAIY,EAAc,IAAIC,MAAMC,UAAU,CAACf,EAAUC,GAAY,GAAI,CAC7De,OAAQ,oBAGZtC,EAAUuC,WAAWC,IAAIL,GAQ7B,SAASM,IACLzC,EAAY,IAAIoC,MAAMM,IAAI,MAAO,CAC7BC,OAAQ,CAAC,MAAO,OAChBC,KAAM,KA9CdvC,EAAIwC,iBAAiB,QAASnC,GAC9BR,EAAQ2C,iBAAiB,UAAW3B,GAwCpCkB,MAAMU,MAAML","file":"src.382ff79f.js","sourceRoot":"..","sourcesContent":["export function validatIp(ip) {\r\n   if (/^(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ip)) {\r\n    return true;\r\n   }\r\n   alert('You have to enter a valid IP  address');\r\n   return false;\r\n}","export {validatIp} from './validate.ip';","import {validatIp} from './helpers';\r\n\r\nconst ipInput = document.querySelector('.search-bar__input');\r\nconst btn = document.querySelector('.search-bar__btn');\r\nconst ipInfo = document.querySelector('#ip');\r\nconst locationInfo = document.querySelector('#location');\r\nconst timezoneInfo = document.querySelector('#timezone');\r\nconst ispInfo = document.querySelector('#isp');\r\n\r\nbtn.addEventListener('click', getData);\r\nipInput.addEventListener('keydown', handleKey);\r\n\r\nfunction getData() {\r\n    //провверка данных\r\n    if (validatIp(ipInput.value)) {\r\n        fetch (`https://ipgeolocation.abstractapi.com/v1/?api_key=d9dca39ed7cb4d8f9936716ac0ee4d19&ip_address=${ipInput.value}`)\r\n        .then(response => response.json())\r\n        .then(setInfo)//data => setInfo(data)\r\n    }\r\n} \r\n\r\nfunction handleKey(event) {\r\n    if(event.key === \"Enter\") {\r\n        getData();\r\n    }\r\n}\r\n\r\n\r\nfunction setInfo(mapData) {\r\n    const {latitude, longitude} = mapData;\r\n\r\n    ipInfo.innerText = mapData.ip_address;\r\n    console.log(mapData);\r\n    if(mapData.region == null) {locationInfo.innerText = mapData.country} else {\r\n        locationInfo.innerText = mapData.region + ' ' +  mapData.country;   \r\n    }\r\n    timezoneInfo.innerText = mapData.timezone.current_time;\r\n    ispInfo.innerText = mapData.connection.autonomous_system_organization;\r\n\r\n    yandexMap.setCenter([latitude, longitude]);\r\n    let myPlacemark = new ymaps.Placemark([latitude, longitude], {}, {\r\n        preset: 'islands#redIcon'\r\n    });\r\n\r\n    yandexMap.geoObjects.add(myPlacemark);\r\n}\r\n\r\n\r\nlet yandexMap;\r\n\r\nymaps.ready(createMap);\r\n\r\nfunction createMap() {\r\n    yandexMap = new ymaps.Map(\"map\", {\r\n        center: [55.76, 37.64],\r\n        zoom: 10\r\n    });\r\n}\r\n"]}